(this.webpackJsonpwhois=this.webpackJsonpwhois||[]).push([[0],{108:function(e,t,n){e.exports=n.p+"static/media/friends.3fb7273a.png"},187:function(e,t,n){e.exports=n(310)},281:function(e,t,n){},310:function(e,t,n){"use strict";n.r(t);n(188),n(214),n(216),n(217),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256);var a=n(0),r=n.n(a),c=n(107),s=n.n(c),u=n(20),o=n.n(u),i=n(29),l=n.n(i),d=n(49),p=n(18),f=n(111),m=n.n(f),b=n(71),h=n.n(b),g=(n(265),n(50)),v=n.n(g),k=n(109),E=n.n(k),x=n(108),_=n.n(x);var j=function(e){var t=e.id,n=e.go;e.fetchedUser;return r.a.createElement(v.a,{id:t},r.a.createElement(E.a,{title:"Navigation Example"},r.a.createElement("div",null,r.a.createElement("img",{height:"350px",src:_.a}),r.a.createElement("a",{href:"#",onClick:n,"data-to":"games"},"\u0418\u0433\u0440\u0430\u0442\u044c"))))},O=n(52),w=n(54),y=(n(281),n(53)),A=n.n(y),S=n(110),T=n.n(S),U=(Object(w.c)(),function(e){var t=Object(a.useState)([]),n=Object(p.a)(t,2),c=(n[0],n[1]),s=Object(a.useState)([]),u=Object(p.a)(s,2),i=u[0],f=u[1],m=Object(a.useState)([]),b=Object(p.a)(m,2),h=b[0],g=b[1],k=Object(a.useState)("test"),E=Object(p.a)(k,2);E[0],E[1];return Object(a.useEffect)((function(){function t(){return(t=Object(d.a)(l.a.mark((function t(){var n,a,r,s,u,d,p,m,b,h,v,k,E,x,_,j,w,y,S,U;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.send("VKWebAppGetAuthToken",{app_id:7401331,scope:"friends,video, groups"});case 2:return n=t.sent,console.log(n),a="https://api.vk.com/method/friends.get?user_ids="+e.fetchedUser.user_id+"&access_token="+e.fetchedToken+"&order=random&fields=name,last_name,photo_100&count=20&v=5.103",r=[],t.next=8,A.a.jsonp(a);case 8:s=t.sent,u=s.response.items,d="",u.forEach((function(e){d+=e.id+","})),c(u),p=Object(O.a)(u),t.prev=14,p.s();case 16:if((m=p.n()).done){t.next=58;break}if(b=m.value,5!=r.length){t.next=20;break}return t.abrupt("break",58);case 20:if(!b.deactivated){t.next=22;break}return t.abrupt("continue",56);case 22:h=!1,v=Object(O.a)(r);try{for(v.s();!(k=v.n()).done;)E=k.value,console.log(E),E.user.id!=b.id&&E.friend.id!=b.id||(h=!0)}catch(W){v.e(W)}finally{v.f()}if(!h){t.next=27;break}return t.abrupt("continue",56);case 27:return x="https://api.vk.com/method/groups.get?user_id="+b.id+"&access_token="+e.fetchedToken+"&extended=1&fiter=publics,group&count=15&v=5.103",t.next=30,A.a.jsonp(x);case 30:if(_=t.sent,console.log(_),!_.response){t.next=56;break}j=_.response.items.sort((function(){return Math.random()-.5})),w=Object(O.a)(j),t.prev=35,S=l.a.mark((function t(){var n,a,c,s,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=(n=y.value).is_closed){t.next=3;break}return t.abrupt("return","continue");case 3:return null,t.next=6,T()(1e3);case 6:return a="https://api.vk.com/method/groups.isMember?user_ids="+d+"&group_id="+n.id+"&access_token="+e.fetchedToken+"&v=5.103",console.log(n),t.next=10,A.a.jsonp(a);case 10:if(c=t.sent,s=[],!c.response){t.next=20;break}if(!((s=c.response.filter((function(e){return 0==e.member}))).length>0)){t.next=20;break}return s.sort((function(){return Math.random()-.5})),o=u.filter((function(e){return e.id==s[0].user_id})),r.push({user:o[0],group:n,friend:b}),i.push(n),t.abrupt("return","break");case 20:case"end":return t.stop()}}),t)})),w.s();case 38:if((y=w.n()).done){t.next=48;break}return t.delegateYield(S(),"t0",40);case 40:U=t.t0,t.t1=U,t.next="continue"===t.t1?44:"break"===t.t1?45:46;break;case 44:return t.abrupt("continue",46);case 45:return t.abrupt("break",48);case 46:t.next=38;break;case 48:t.next=53;break;case 50:t.prev=50,t.t2=t.catch(35),w.e(t.t2);case 53:return t.prev=53,w.f(),t.finish(53);case 56:t.next=16;break;case 58:t.next=63;break;case 60:t.prev=60,t.t3=t.catch(14),p.e(t.t3);case 63:return t.prev=63,p.f(),t.finish(63);case 66:g(r),f(i),console.log(r);case 69:case"end":return t.stop()}}),t,null,[[14,60,63,66],[35,50,53,56]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),r.a.createElement(v.a,{id:e.id},r.a.createElement(w.b,null,r.a.createElement(w.a,{slideWidth:"100%",style:{height:"100%"},className:"okno",bullets:"dark"},h.length>0&&h.map((function(e){return r.a.createElement("div",{class:"games_raund"},r.a.createElement("div",null,r.a.createElement("h2",null,"\u0423\u0433\u0430\u0434\u0430\u0439 \u043a\u0442\u043e"),r.a.createElement("p",null,"\u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d \u043d\u0430:")),r.a.createElement("div",{class:"about_group"},r.a.createElement("img",{class:"group_img",src:e.group.photo_200}),r.a.createElement("p",null,e.group.name),r.a.createElement("p",null,"100 000 \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432")),r.a.createElement("a",{"data-id":e.friend.id},r.a.createElement("div",{class:"about_users"},r.a.createElement("img",{class:"user_img",src:e.friend.photo_100}),r.a.createElement("button",null,e.friend.first_name))),r.a.createElement("a",{onclick:"","data-id":e.user.id},r.a.createElement("div",{class:"about_users"},r.a.createElement("img",{class:"user_img",src:e.user.photo_100}),r.a.createElement("button",null,e.user.first_name))),e.friend.id===h[h.length-1].friend.id&&r.a.createElement("button",null,"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c \u0418\u0433\u0440\u0443"))})))))}),W=function(){var e=Object(a.useState)("home"),t=Object(p.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(null),u=Object(p.a)(s,2),i=u[0],f=u[1],b=Object(a.useState)(""),g=Object(p.a)(b,2),v=g[0],k=g[1],E=Object(a.useState)(r.a.createElement(h.a,{size:"large"})),x=Object(p.a)(E,2),_=x[0],O=x[1];Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send("VKWebAppGetUserInfo");case 2:return t=e.sent,e.next=5,o.a.send("VKWebAppGetAuthToken",{app_id:7401331,scope:"friends,video, groups"});case 5:n=e.sent,k(n.access_token),f(t),console.log(t),O(null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.a.subscribe((function(e){var t=e.detail,n=t.type,a=t.data;if("VKWebAppUpdateConfig"===n){var r=document.createAttribute("scheme");r.value=a.scheme?a.scheme:"client_light",document.body.attributes.setNamedItem(r)}})),function(){e.apply(this,arguments)}()}),[]);var w=function(e){c(e.currentTarget.dataset.to)};return r.a.createElement(m.a,{header:!1,activePanel:n,popout:_},r.a.createElement(j,{id:"home",fetchedUser:i,go:w}),r.a.createElement(U,{id:"games",fetchedUser:i,fetchedToken:v,go:w}))};o.a.send("VKWebAppInit"),s.a.render(r.a.createElement(W,null),document.getElementById("root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.2fc03ea6.chunk.js.map