(this.webpackJsonpwhois=this.webpackJsonpwhois||[]).push([[0],{108:function(e,t,n){e.exports=n.p+"static/media/friends.3fb7273a.png"},187:function(e,t,n){e.exports=n(310)},281:function(e,t,n){},310:function(e,t,n){"use strict";n.r(t);n(188),n(214),n(216),n(217),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256);var a=n(0),r=n.n(a),s=n(107),c=n.n(s),o=n(20),i=n.n(o),u=n(35),p=n.n(u),d=n(49),l=n(18),f=n(111),b=n.n(f),m=n(71),h=n.n(m),g=(n(265),n(50)),v=n.n(g),k=n(109),j=n.n(k),x=n(108),O=n.n(x);var _=function(e){var t=e.id,n=e.go;e.fetchedUser;return r.a.createElement(v.a,{id:t},r.a.createElement(j.a,{title:"Navigation Example"},r.a.createElement("div",null,r.a.createElement("img",{height:"350px",src:O.a}),r.a.createElement("a",{href:"#",onClick:n,"data-to":"games"},"\u0418\u0433\u0440\u0430\u0442\u044c"))))},E=n(52),y=n(54),w=(n(281),n(53)),A=n.n(w),S=n(110),T=n.n(S),U=(Object(y.c)(),function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),s=(n[0],n[1]),c=Object(a.useState)([]),o=Object(l.a)(c,2),u=o[0],f=o[1],b=Object(a.useState)([]),m=Object(l.a)(b,2),h=m[0],g=m[1],k=Object(a.useState)("test"),j=Object(l.a)(k,2);j[0],j[1];return Object(a.useEffect)((function(){function t(){return(t=Object(d.a)(p.a.mark((function t(){var n,a,r,c,o,d,l,b,m,h,v,k,j,x,O,_,y,w,S,U,W,K,V;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.send("VKWebAppGetAuthToken",{app_id:7401331,scope:"friends,video, groups"});case 2:return n=t.sent,console.log(n),a="https://api.vk.com/method/friends.get?user_ids="+e.fetchedUser.user_id+"&access_token="+e.fetchedToken+"&order=random&fields=name,last_name,photo_100&count=20&name_case=ins&v=5.103",r=[],t.next=8,A.a.jsonp(a);case 8:c=t.sent,o=c.response.items,d="",o.forEach((function(e){d+=e.id+","})),s(o),l=Object(E.a)(o),t.prev=14,l.s();case 16:if((b=l.n()).done){t.next=69;break}if(m=b.value,5!=r.length){t.next=20;break}return t.abrupt("break",69);case 20:if(!m.deactivated){t.next=22;break}return t.abrupt("continue",67);case 22:h=!1,v=Object(E.a)(r);try{for(v.s();!(k=v.n()).done;)j=k.value,console.log(j),j.user_id!=m.id&&j.friend.id!=m.id||(h=!0)}catch(p){v.e(p)}finally{v.f()}if(!h){t.next=27;break}return t.abrupt("continue",67);case 27:return x="https://api.vk.com/method/groups.get?user_id="+m.id+"&access_token="+e.fetchedToken+"&extended=1&fiter=publics,group&count=15&v=5.103",t.next=30,A.a.jsonp(x);case 30:if(O=t.sent,console.log(O),!O.response){t.next=67;break}_=O.response.items.sort((function(){return Math.random()-.5})),y=Object(E.a)(_),t.prev=35,y.s();case 37:if((w=y.n()).done){t.next=59;break}if(1!=(S=w.value).is_closed){t.next=41;break}return t.abrupt("continue",57);case 41:return null,t.next=44,T()(1e3);case 44:return U="https://api.vk.com/method/groups.isMember?user_ids="+d+"&group_id="+S.id+"&access_token="+e.fetchedToken+"&v=5.103",console.log(S),t.next=48,A.a.jsonp(U);case 48:if(W=t.sent,K=[],!W.response){t.next=57;break}if(!((K=W.response.filter((function(e){return 0==e.member}))).length>0)){t.next=57;break}return V=K.sort((function(){return Math.random()-.5})),r.push({user_id:V[0].user_id,group:S,friend:m}),u.push(S),t.abrupt("break",59);case 57:t.next=37;break;case 59:t.next=64;break;case 61:t.prev=61,t.t0=t.catch(35),y.e(t.t0);case 64:return t.prev=64,y.f(),t.finish(64);case 67:t.next=16;break;case 69:t.next=74;break;case 71:t.prev=71,t.t1=t.catch(14),l.e(t.t1);case 74:return t.prev=74,l.f(),t.finish(74);case 77:g(r),f(u),console.log(r);case 80:case"end":return t.stop()}}),t,null,[[14,71,74,77],[35,61,64,67]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),r.a.createElement(v.a,{id:e.id},r.a.createElement(y.b,null,r.a.createElement(y.a,{slideWidth:"100%",style:{height:350},bullets:"dark"},h.length>0&&h.map((function(e){return r.a.createElement("div",{class:"games_raund"},r.a.createElement("div",{class:"about_group"},r.a.createElement("img",{class:"group_img",src:e.group.photo_200}),r.a.createElement("p",null,e.group.name)))})))))}),W=function(){var e=Object(a.useState)("home"),t=Object(l.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(null),o=Object(l.a)(c,2),u=o[0],f=o[1],m=Object(a.useState)(""),g=Object(l.a)(m,2),v=g[0],k=g[1],j=Object(a.useState)(r.a.createElement(h.a,{size:"large"})),x=Object(l.a)(j,2),O=x[0],E=x[1];Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.send("VKWebAppGetUserInfo");case 2:return t=e.sent,e.next=5,i.a.send("VKWebAppGetAuthToken",{app_id:7401331,scope:"friends,video, groups"});case 5:n=e.sent,k(n.access_token),f(t),console.log(t),E(null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.a.subscribe((function(e){var t=e.detail,n=t.type,a=t.data;if("VKWebAppUpdateConfig"===n){var r=document.createAttribute("scheme");r.value=a.scheme?a.scheme:"client_light",document.body.attributes.setNamedItem(r)}})),function(){e.apply(this,arguments)}()}),[]);var y=function(e){s(e.currentTarget.dataset.to)};return r.a.createElement(b.a,{header:!1,activePanel:n,popout:O},r.a.createElement(_,{id:"home",fetchedUser:u,go:y}),r.a.createElement(U,{id:"games",fetchedUser:u,fetchedToken:v,go:y}))};i.a.send("VKWebAppInit"),c.a.render(r.a.createElement(W,null),document.getElementById("root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.b7d79f78.chunk.js.map