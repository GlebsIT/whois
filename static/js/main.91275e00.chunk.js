(this.webpackJsonpwhois=this.webpackJsonpwhois||[]).push([[0],{108:function(e,t,n){e.exports=n.p+"static/media/friends.3fb7273a.png"},111:function(e,t,n){e.exports=n.p+"static/media/false.684294b8.png"},112:function(e,t,n){e.exports=n.p+"static/media/true.1cad432a.png"},188:function(e,t,n){e.exports=n(311)},282:function(e,t,n){},311:function(e,t,n){"use strict";n.r(t);n(189),n(215),n(217),n(218),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257);var a=n(0),r=n.n(a),s=n(107),c=n.n(s),i=n(20),o=n.n(i),u=n(29),l=n.n(u),p=n(49),d=n(18),m=n(113),f=n.n(m),b=n(71),h=n.n(b),g=(n(266),n(50)),v=n.n(g),k=n(109),E=n.n(k),_=n(108),x=n.n(_);var j=function(e){var t=e.id,n=e.go;e.fetchedUser;return r.a.createElement(v.a,{id:t},r.a.createElement(E.a,{title:"Navigation Example"},r.a.createElement("div",null,r.a.createElement("img",{height:"350px",src:x.a}),r.a.createElement("button",{onClick:n,"data-to":"games"},"\u0418\u0433\u0440\u0430\u0442\u044c"))))},O=n(52),w=n(54),y=(n(282),n(53)),A=n.n(y),S=n(110),T=n.n(S),U=n(111),W=n.n(U),K=n(112),V=n.n(K),C=(Object(w.c)(),function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),s=(n[0],n[1]),c=Object(a.useState)([]),i=Object(d.a)(c,2),u=i[0],m=i[1],f=Object(a.useState)([]),b=Object(d.a)(f,2),h=b[0],g=b[1],k=Object(a.useState)([]),E=Object(d.a)(k,2),_=E[0],x=E[1];function j(e,t,n){n.preventDefault(),console.log(e),console.log(t);var a=_.slice();e==h[t].friend.id?a.push(!0):a.push(!1),x(a),console.log(a)}Object(a.useEffect)((function(){function t(){return(t=Object(p.a)(l.a.mark((function t(){var n,a,r,c,i,p,d,f,b,h,v,k,E,_,x,j,w,y,S,U;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.send("VKWebAppGetAuthToken",{app_id:7401331,scope:"friends,video, groups"});case 2:return n=t.sent,console.log(n),a="https://api.vk.com/method/friends.get?user_ids="+e.fetchedUser.user_id+"&access_token="+e.fetchedToken+"&order=random&fields=name,last_name,photo_100&count=20&v=5.103",r=[],t.next=8,A.a.jsonp(a);case 8:c=t.sent,i=c.response.items,p="",i.forEach((function(e){p+=e.id+","})),s(i),console.log(i),d=Object(O.a)(i),t.prev=15,d.s();case 17:if((f=d.n()).done){t.next=59;break}if(b=f.value,5!=r.length){t.next=21;break}return t.abrupt("break",59);case 21:if(!b.deactivated){t.next=23;break}return t.abrupt("continue",57);case 23:h=!1,v=Object(O.a)(r);try{for(v.s();!(k=v.n()).done;)E=k.value,console.log(E),E.user.id!=b.id&&E.friend.id!=b.id||(h=!0)}catch(W){v.e(W)}finally{v.f()}if(!h){t.next=28;break}return t.abrupt("continue",57);case 28:return _="https://api.vk.com/method/groups.get?user_id="+b.id+"&access_token="+e.fetchedToken+"&extended=1&fiter=publics,group&count=15&v=5.103",t.next=31,A.a.jsonp(_);case 31:if(x=t.sent,console.log(x),!x.response){t.next=57;break}j=x.response.items.sort((function(){return Math.random()-.5})),w=Object(O.a)(j),t.prev=36,S=l.a.mark((function t(){var n,a,s,c,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=(n=y.value).is_closed){t.next=3;break}return t.abrupt("return","continue");case 3:return null,t.next=6,T()(1e3);case 6:return a="https://api.vk.com/method/groups.isMember?user_ids="+p+"&group_id="+n.id+"&access_token="+e.fetchedToken+"&v=5.103",console.log(n),t.next=10,A.a.jsonp(a);case 10:if(s=t.sent,c=[],!s.response){t.next=20;break}if(!((c=s.response.filter((function(e){return 0==e.member}))).length>0)){t.next=20;break}return c.sort((function(){return Math.random()-.5})),o=i.filter((function(e){return e.id==c[0].user_id})),r.push({user:o[0],group:n,friend:b}),u.push(n),t.abrupt("return","break");case 20:case"end":return t.stop()}}),t)})),w.s();case 39:if((y=w.n()).done){t.next=49;break}return t.delegateYield(S(),"t0",41);case 41:U=t.t0,t.t1=U,t.next="continue"===t.t1?45:"break"===t.t1?46:47;break;case 45:return t.abrupt("continue",47);case 46:return t.abrupt("break",49);case 47:t.next=39;break;case 49:t.next=54;break;case 51:t.prev=51,t.t2=t.catch(36),w.e(t.t2);case 54:return t.prev=54,w.f(),t.finish(54);case 57:t.next=17;break;case 59:t.next=64;break;case 61:t.prev=61,t.t3=t.catch(15),d.e(t.t3);case 64:return t.prev=64,d.f(),t.finish(64);case 67:g(r),m(u),console.log(r);case 70:case"end":return t.stop()}}),t,null,[[15,61,64,67],[36,51,54,57]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var y=function(e){return r.a.createElement("div",{class:"games_raund"},r.a.createElement("div",null,r.a.createElement("h2",null,"\u0423\u0433\u0430\u0434\u0430\u0439 \u043a\u0442\u043e"),r.a.createElement("p",null,"\u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d \u043d\u0430:")),r.a.createElement("div",{class:"about_group"},r.a.createElement("img",{alt:"friends",class:"group_img",src:e.item.group.photo_200}),r.a.createElement("p",null,e.item.group.name),r.a.createElement("p",null,"100 000 \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432")),r.a.createElement("button",{class:"button_answer",onClick:function(t){return j(e.item.friend.id,e.i,t)}},r.a.createElement("div",{class:"about_users"},r.a.createElement("img",{class:"img_answer",src:""}),r.a.createElement("img",{class:"img_answer",src:""}),r.a.createElement("img",{class:"user_img",src:e.item.friend.photo_100}),r.a.createElement("button",null,e.item.friend.first_name))),r.a.createElement("button",{class:"button_answer",onClick:function(t){return j(e.item.user.id,e.i,t)}},r.a.createElement("div",{class:"about_users"},r.a.createElement("img",{alt:"friends",class:"img_answer",src:V.a}),r.a.createElement("img",{alt:"friends",class:"img_answer",src:W.a}),r.a.createElement("img",{alt:"friends",class:"user_img",src:e.item.user.photo_100}),r.a.createElement("button",null,e.item.user.first_name))),e.item.friend.id===h[h.length-1].friend.id&&r.a.createElement("button",null,"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c \u0418\u0433\u0440\u0443"))};return r.a.createElement(v.a,{id:e.id},r.a.createElement(w.b,null,r.a.createElement(w.a,{slideWidth:"100%",style:{height:"100%"},className:"okno",bullets:"dark"},h.length>0&&h.map((function(e,t){return r.a.createElement(y,{item:e,i:t})})))))}),I=function(){var e=Object(a.useState)("home"),t=Object(d.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(null),i=Object(d.a)(c,2),u=i[0],m=i[1],b=Object(a.useState)(""),g=Object(d.a)(b,2),v=g[0],k=g[1],E=Object(a.useState)(r.a.createElement(h.a,{size:"large"})),_=Object(d.a)(E,2),x=_[0],O=_[1];Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send("VKWebAppGetUserInfo");case 2:return t=e.sent,e.next=5,o.a.send("VKWebAppGetAuthToken",{app_id:7401331,scope:"friends,video, groups"});case 5:n=e.sent,k(n.access_token),m(t),console.log(t),O(null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.a.subscribe((function(e){var t=e.detail,n=t.type,a=t.data;if("VKWebAppUpdateConfig"===n){var r=document.createAttribute("scheme");r.value=a.scheme?a.scheme:"client_light",document.body.attributes.setNamedItem(r)}})),function(){e.apply(this,arguments)}()}),[]);var w=function(e){s(e.currentTarget.dataset.to)};return r.a.createElement(f.a,{header:!1,activePanel:n,popout:x},r.a.createElement(j,{id:"home",fetchedUser:u,go:w}),r.a.createElement(C,{id:"games",fetchedUser:u,fetchedToken:v,go:w}))};o.a.send("VKWebAppInit"),c.a.render(r.a.createElement(I,null),document.getElementById("root"))}},[[188,1,2]]]);
//# sourceMappingURL=main.91275e00.chunk.js.map